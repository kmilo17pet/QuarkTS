<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!-- BEGIN opengraph metadata -->
<meta property="og:title" content="QuarkTS OS" />
<meta property="og:image" content="https://github.com/kmilo17pet/QuarkTS/raw/master/doc/quarktslogo.png" />
<meta property="og:description" content="An open-source OS for small embedded applications." />
<meta property="og:url" content="https://kmilo17pet.github.io/QuarkTS/" />
<!-- END opengraph metadata -->
<!-- BEGIN twitter metadata -->
<meta name="twitter:image:src" content="https://github.com/kmilo17pet/QuarkTS/raw/master/doc/quarktslogo.png" />
<meta name="twitter:title" content="QuarkTS OS" />
<meta name="twitter:description" content="An open-source OS for small embedded applications." />
<!-- END twitter metadata -->
<title>OS: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="icon" type="image/svg+xml" href="logo.drawio.svg"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript" src="toggle-alternative-theme.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeDarkModeToggle.init()
    DoxygenAwesomeParagraphLink.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeTabs.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/kmilo17pet/QuarkTS" class="github-corner" title="View source on GitHub" target="_blank" rel="noopener noreferrer">
    <svg viewBox="0 0 250 250" width="40" height="40" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="quarktslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OS
   &#160;<span id="projectnumber">v7.3.3</span>
   </div>
   <div id="projectbrief">Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('q_background.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Overview</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul>
  <li class="level1">
    <a href="#q_about">About the OS</a>
  </li>
  <li class="level1">
    <a href="#q_license">License</a>
  </li>
  <li class="level1">
    <a href="#q_hardwarecompatibility">Hardware compatibility</a>
  </li>
  <li class="level1">
    <a href="#q_codstandard">Development process and coding standard</a>
  </li>
  <li class="level1">
    <a href="#q_memusage">Memory usage</a>
  </li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="q_about"></a>
About the OS</h1>
<p>QuarkTS is an open-source operating system that is built on top of a <em>RTC cooperative quasistatic scheduler</em>. Its simplified kernel implements a specialized round-robin scheme using a linked-chain approach and an event-queue to provide true FIFO priority scheduling.</p>
<p><b> Why cooperative? </b></p>
<p>Rather than having preemption, tasks manage their own life-cycle. This bring significant benefits, fewer re-entrance problems are encountered, because tasks cannot be interrupted arbitrarily by other tasks, but only at positions permitted by the programmer, so you mostly do not need to worry about pitfalls of the concurrent approach(resource sharing, races, deadlocks, etc...).</p>
<p><b> What is it made for? </b></p>
<p>The design goal of QuarkTS is to achieve its stated functionality using a small, simple, and (most importantly) robust implementation to make it suitable on resource-constrained microcontrollers, where a full-preemptive RTOS is an overkill and their inclusion adds unnecessary complexity to the firmware development. In addition with a <a class="el" href="q_fsm.html">Finite State Machines (FSM)</a> support, <a class="el" href="q_qcoroutines.html">Co-Routines</a>, time control and the inter-task communication primitives, QuarkTS provides a modern environment to build stable and predictable event-driven multitasking embedded software. Their modularity and reliability make this OS a great choice to develop efficiently a wide range of applications in low-cost devices, including automotive controls, monitoring and Internet of Things</p>
<p><b>Why should I choose it?</b></p>
<p>QuarkTS is not intended to replace o compete with other great and proven RTOS options already available today, for example, FreeRTOS or MicroC/OS-II, in fact, you should check these options first. However, due to its size and features, is intended to play in the space between RTOSes and bare metal. QuarkTS was written for embedded developers who want more functionality than what existing task schedulers offer, but want to avoid the space and complexity of a full RTOS, while keeping the taste of a robust and safe one.</p>
<h1><a class="anchor" id="q_license"></a>
License</h1>
<p>QuarkTS is licensed under the MIT License. You may copy, distribute and modify the software without any restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the OS, and to permit persons to whom the OS is furnished to do so. This OS is provided as is in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</p>
<p>For more details, see the <a href="https://writing.kemitchell.com/2016/09/21/MIT-License-Line-by-Line.html" style="font-weight:bold">MIT License</a> line by line.</p>
<h1><a class="anchor" id="q_hardwarecompatibility"></a>
Hardware compatibility</h1>
<p>QuarkTS has no direct hardware dependencies, so it is portable to many platforms and C compilers.</p>
<p>The following cores have been powered with QuarkTS successfully:</p>
<ul>
<li>ARM cores(ATMEL, STM32, LPC, Kinetis, Nordic and others)</li>
<li>8Bit AVR, 8051, STM8</li>
<li>HCS12, ColdFire, MSP430</li>
<li>PIC (PIC24, dsPIC, 32MX, 32MZ)</li>
</ul>
<h1><a class="anchor" id="q_codstandard"></a>
Development process and coding standard</h1>
<p>QuarkTS is developed using a formal and rigorous process framed in compliance of the <a href="https://www.misra.org.uk/" style="font-weight:bold">MISRA C 2012</a> and <a href="https://wiki.sei.cmu.edu/confluence/display/c/SEI+CERT+C+Coding+Standard" style="font-weight:bold">SEI CERT coding standard</a> guidelines and complemented with multiple static-analysis checks targeted to safe critical applications.</p>
<p>Simply using QuarkTS in an application, does not mean developers can make a claim related to the development process and compliance of the OS to any requirements or product specification, without first, following a recognized system-wide conformance verification process. Conformance evidence must then be presented, audited and accepted by a recognized and relevant independent assessment organization. Without undergoing this process of due diligence, no claim can be made as to the suitability of QuarkTS to be used in any safety or otherwise commercially critical application.</p>
<p>Besides the previous information, the OS sets the following clarifications regarding coding policies and naming conventions:</p>
<ul>
<li>All the QuarkTS implementation follows the <b>ANSI C99</b> standard strictly.</li>
<li>Dynamic memory allocation is banned to conform the industry standards for safety-critical software: <b>MISRA-C</b>, <b>DO178B</b>, <b>IEC-61508</b>, <b>ISO-26262</b> and so on.</li>
<li>Because errors in string manipulation have long been recognized as a leading source of buffer overflows in C, several mitigation strategies have been devised. These include mitigation strategies designed to prevent buffer overflows from occurring and strategies designed to detect buffer overflows and securely recover without allowing the failure to be exploited.</li>
<li>In line with MISRA guides and for portability between platforms, we use the <code>stdint.h</code> with typedefs that indicate size and signedness in place of the basic types.</li>
<li>In line with <b>MISRA</b> guides, unqualified standard <code>char</code> and <code>char*</code> types are only permitted to hold ASCII characters and strings respectively.</li>
<li>The <code>_t</code> suffix is used to denote a type definition (i.e <code><a class="el" href="group__qtypes.html#ga131b2258b5135d0b1e3ded5ecbe309d7" title="A type to instantiate an OS boolean variable.">qBool_t</a></code> , <code><a class="el" href="structq_task__t.html" title="A task node object.">qTask_t</a></code> , <code>size_t</code>, ...).</li>
<li>Functions, macros, enum values and data types are prefixed q. (i.e. <code>qFunction</code>, <code>qEnumValue</code>, <code>QCONSTANT</code>, <code>qType_t</code>, ...)</li>
<li>Other than the pre-fix, most macros used for constants are written in all upper case.</li>
<li>Almost all functions returns a boolean value of type <code><a class="el" href="group__qtypes.html#ga131b2258b5135d0b1e3ded5ecbe309d7" title="A type to instantiate an OS boolean variable.">qBool_t</a></code>, where a <code>qTrue</code> - <code>1u</code> value indicates a successful procedure and <code>qFalse</code> - <code>0u</code>, the failure of the procedure</li>
</ul>
<h1><a class="anchor" id="q_memusage"></a>
Memory usage</h1>
<p>As a quasi-static scheduler is implemented here, dynamic scheduling is not required and the assignment of tasks must be done before program execution begins. The kernel is designed to allow unlimited tasks and kernel objects, but of course, the whole application will be constrained by the memory specifications of the embedded system.</p>
<p>The kernel's memory footprint can be scaled down to contain only the features required for your application, typically <code>3.7Kb</code> of code space and less than <code>1Kb</code> of data space.</p>
<center> <a class="anchor" id="multi_row"></a>
<table class="doxtable">
<caption>OS Memory footprint (Measured in a 32-bit MCU)</caption>
<tr>
<th>Functionality </th><th>Size(bytes) </th></tr>
<tr>
<td>Kernel, scheduler and task management </td><td>2637 </td></tr>
<tr>
<td>A task node <code><a class="el" href="structq_task__t.html" title="A task node object.">qTask_t</a></code> </td><td>68 </td></tr>
<tr>
<td>Finite State machines(FSM) handling and related APIs </td><td>314 </td></tr>
<tr>
<td>A FSM object <code><a class="el" href="structq_s_m__t.html" title="A FSM(Finite State Machine) object.">qSM_t</a></code> </td><td>100 </td></tr>
<tr>
<td>A state object <code><a class="el" href="structq_s_m___state__t.html" title="A state object.">qSM_State_t</a></code> </td><td>36 </td></tr>
<tr>
<td>STimers handling and related APIs </td><td>258 </td></tr>
<tr>
<td>A STimer object <code><a class="el" href="structq_s_timer__t.html" title="A STimer(Software Timer) object.">qSTimer_t</a></code> </td><td>8 </td></tr>
<tr>
<td>Queues handling and related APIs </td><td>544 </td></tr>
<tr>
<td>A queue object <code><a class="el" href="structq_queue__t.html" title="A Queue object.">qQueue_t</a></code> </td><td>28 </td></tr>
<tr>
<td>Memory management </td><td>407 </td></tr>
<tr>
<td>A memory pool </td><td>28 </td></tr>
<tr>
<td>The AT Command Line Interface </td><td>1724 </td></tr>
<tr>
<td>An AT-CLI instance <code><a class="el" href="structq_a_t_c_l_i__t.html" title="An AT Command Line Interface (CLI) object.">qATCLI_t</a></code> </td><td>112 </td></tr>
<tr>
<td>An AT-CLI command instance <code><a class="el" href="structq_a_t_c_l_i___command__t.html" title="An AT-Command object.">qATCLI_Command_t</a></code> </td><td>24 </td></tr>
<tr>
<td>Remaining utilities </td><td>2980 </td></tr>
</table>
</center> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
